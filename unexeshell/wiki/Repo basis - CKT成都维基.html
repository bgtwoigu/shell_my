<!DOCTYPE html>
<!-- saved from url=(0036)http://10.120.10.100:9002/Repo_basis -->
<html lang="zh-CN" dir="ltr" class="client-js ve-available"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>Repo basis - CKT成都维基</title>
<meta name="generator" content="MediaWiki 1.26alpha">
<link rel="alternate" type="application/x-wiki" title="编辑" href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit">
<link rel="edit" title="编辑" href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit">
<link rel="shortcut icon" href="http://10.120.10.100:9002/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="http://10.120.10.100:9002/opensearch_desc.php" title="CKT成都维基 (zh-cn)">
<link rel="EditURI" type="application/rsd+xml" href="http://10.120.10.100:9002/api.php?action=rsd">
<link rel="alternate" hreflang="x-default" href="./Repo basis - CKT成都维基_files/Repo basis - CKT成都维基.html">
<link rel="alternate" type="application/atom+xml" title="CKT成都维基的Atom feed" href="http://10.120.10.100:9002/index.php?title=%E7%89%B9%E6%AE%8A:%E6%9C%80%E8%BF%91%E6%9B%B4%E6%94%B9&feed=atom">
<link rel="stylesheet" href="http://10.120.10.100:9002/load.php?debug=false&lang=zh-cn&modules=ext.geshi.language.c%7Cext.uls.nojs%7Cext.visualEditor.viewPageTarget.noscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&only=styles&skin=vector&*">
<style>
.tipsy{padding:5px;position:absolute;z-index:100000;cursor:default}.tipsy-inner{padding:5px 8px 4px 8px; background-color:#ffffff;border:solid 1px #a7d7f9;color:black;max-width:15em;border-radius:4px; }.tipsy-arrow{position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALAgMAAADUwp+1AAAACVBMVEX5+fmn1/n///9s6BFKAAAAAXRSTlMAQObYZgAAACpJREFUCB1jZBD4wMiQMoeRcUU4I9uSaYxSE54xZjn8AtMgPkgcJA9UBwAeDw1Qrb3pVAAAAABJRU5ErkJggg==) no-repeat top left;background:url(/resources/src/jquery.tipsy/images/tipsy.png?2015-04-28T09:50:00Z) no-repeat top left!ie;width:11px;height:6px} .tipsy-n .tipsy-arrow{top:0px;left:50%;margin-left:-5px} .tipsy-nw .tipsy-arrow{top:1px;left:10px} .tipsy-ne .tipsy-arrow{top:1px;right:10px} .tipsy-s .tipsy-arrow{bottom:0px;left:50%;margin-left:-5px;background-position:bottom left} .tipsy-sw .tipsy-arrow{bottom:0px;left:10px;background-position:bottom left} .tipsy-se .tipsy-arrow{bottom:0px;right:10px;background-position:bottom left} .tipsy-e .tipsy-arrow{top:50%;margin-top:-5px;right:1px;width:5px;height:11px;background-position:top right} .tipsy-w .tipsy-arrow{top:50%;margin-top:-5px;left:0px;width:6px;height:11px} .tipsy{font-size:0.8em}
/* cache key: wikidb_201505:resourceloader:filter:minify-css:7:79ce17bf567c55c927fecf9125ea99a6 */
.uls-menu a{cursor:pointer}.uls-menu.callout .caret-before{border-top:20px solid transparent;border-right:20px solid #C9C9C9;border-bottom:20px solid transparent;display:inline-block;left:-21px;top:30px;position:absolute}.uls-menu.callout .caret-after{border-top:20px solid transparent;border-right:20px solid #FCFCFC;border-bottom:20px solid transparent;display:inline-block;left:-20px;top:30px;position:absolute}.uls-ui-languages button{width:23%;text-overflow:ellipsis;margin-right:4%}button.uls-more-languages{width:auto}.settings-title{font-size:11pt}.settings-text{color:#555555;font-size:9pt}div.display-settings-block:hover .settings-text{color:#252525}
/* cache key: wikidb_201505:resourceloader:filter:minify-css:7:22d1681fa868b4ff4fbcb1ec1e58a9ea */
.ve-activated #toc,.ve-activated #siteNotice,.ve-activated .mw-indicators, .ve-active #bodyContent > :not(#siteSub):not(#contentSub):not(.ve-ui-mwTocWidget),.ve-activated #t-print,.ve-activated #t-permalink,.ve-activated #p-coll-print_export,.ve-activated #t-cite,.ve-activating .ve-ui-surface,.ve-deactivating .ve-ui-surface{display:none}.ve-activated #bodyContent,.ve-activated #firstHeading,.ve-activated #siteSub,.ve-activated #contentSub{opacity:0.6;pointer-events:none}.ve-activated #firstHeading{cursor:default} .ve-activated #content{position:relative}.ve-init-mw-viewPageTarget-loading-overlay{position:absolute;left:0;right:0;z-index:1;margin-top:-0.5em}.ve-init-mw-viewPageTarget-progress{border:1px solid #347bff;background:#fff;height:0.75em;border-radius:2px;overflow:hidden;margin:0 25%}.ve-init-mw-viewPageTarget-progress-bar{width:0;height:0.75em;background:#347bff} .mw-editsection{white-space:nowrap; unicode-bidi:-moz-isolate;unicode-bidi:-webkit-isolate;unicode-bidi:isolate}.mw-editsection-divider{color:#555}.ve-tabmessage-appendix{font-size:0.7em;vertical-align:top;line-height:1.43em;padding-left:0.5em; background-image:none !important;display:inline !important}
/* cache key: wikidb_201505:resourceloader:filter:minify-css:7:98428ddb6d82ef9bb6dcf1d1c4437f25 */</style><style>
.uls-trigger{background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAQCAMAAADQzfSkAAABqlBMVEX////f3/+Ov+/n5+fp6enp6eno6Ojp6enn5+ff39/q6urp6enp6enp6enq6urp6en////q6urr6+upv+rU1NTJycnR0dEaGhrp6enT4/SEuuK9vb3l5eU2ktCxsbFdXV1paWmzwc9ITFDo6OhaWlpsbGxtbW2BipSZpK/X19d2dnZ8hI2/v79PT09gZm2CgoLIyMjD0eGksL1JTVHM2+spKywnKCkcHBzAzt3I1+cxMzZxcXFkZGSvr69WW2C8vLyFjphqcXiLlZ8dHh4gISLa2trQ3/Dc3NzZ2dl7e3uioqIfHyBCRko9QEPh4eFgYGDGxsZoaGiPj4/Ly8uRm6a6yNcbGxuSnKfL2uqVn6scHR20tLR/f3+Kioq4uLienp54gIipqanA2e+71u9GSk5yeoKgoKCAgIB0dHRLS0tlZWWDg4PBwcHFxcWxvsxkanGapbCKlJ7O4fNXo9hQn9bM3/OPmaRfZWve3t6mpqbR0dG+vr6JiYnKyspPVFl1s99+fn5srdzm5ubNzc1BREh2s99xsN7S0tIxMzUiIyQ2OTt/iJFwcHBbYWc3S28lAAAAF3RSTlMACBAg7P3LiTYIX6LmmDzeAYMnDN+1MJx17ncAAAEQSURBVHheddBTb0VREIbhVduYWVuHRm3btm3bNv9zJ2v3IE36Xk3yZG4+xkMKw0BREYwJMzkcO38MY37tG6AmYN48YZFxwsbeiys6y/02rT1Wa4TxwoYgpx4adLMbfRubs9tk0cJuYK8ACv1/Xy5LLlIYS5bf2FTUUlJapptiqKwyuOfJEsjq4M3j+YBPYc02X6utTWnvQEwk6wJRNxn29Pb1D2iIg0bEJMaHYWTU6RyfABPZ5BTa7xBxxo2YzPgcPPGFRb4Ey2Qrq2vrXlRk6xampDK+a94/ODw6PjGfkp2dX1y6ZOvVNWKavsutqt6HbGZ5QCqdMUmSnlXqhY6M12CZtKcaUnhtsKz/Tc5m7AfjN0jzWIipawAAAABJRU5ErkJggg==) no-repeat scroll left center;background:transparent url(http://10.120.10.100:9002/extensions/UniversalLanguageSelector/resources/css/../../lib/jquery.uls/images/icon-language.png?2015-04-24T18:11:40Z) no-repeat scroll left center!ie;background-image:-webkit-linear-gradient(transparent,transparent),url(data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2227%22%20height%3D%2216%22%3E%3Cpath%20fill%3D%22%23D3E3F4%22%20d%3D%22M0%200h11.876v16h-11.876v-16z%22%2F%3E%3Cpath%20fill%3D%22%23E9E9E9%22%20d%3D%22M12.819%200v15.969h10.755c1.085-2.578%201.837-4.991%203.062-8.591l-3.062-7.378h-10.755z%22%2F%3E%3Cpath%20fill%3D%22%23434343%22%20d%3D%22M14.828%204.146c.32.023.639.035.951.035.471%200%20.922-.016%201.354-.046l.023-.258.034-.367.081-.711.033-.333.873.058c-.073.577-.133%201.091-.179%201.542%201.116-.119%202.233-.331%203.349-.637l.092.809c-1.078.271-2.251.472-3.521.602-.05.463-.082.968-.098%201.514.524-.187%201.14-.313%201.847-.378.064-.207.136-.461.213-.763l.865.201c-.027.123-.088.315-.184.579.814.104%201.461.34%201.938.711.681.542%201.021%201.252%201.021%202.128%200%20.963-.406%201.746-1.221%202.351-.635.47-1.505.784-2.609.94l-.505-.779c.968-.104%201.739-.337%202.317-.7.733-.458%201.101-1.066%201.101-1.823%200-.772-.341-1.363-1.021-1.772-.345-.21-.764-.344-1.256-.401-.604%201.422-1.4%202.598-2.387%203.527.035.352.102.715.201%201.09l-.849.314-.126-.773c-.654.462-1.27.693-1.847.693-.696%200-1.044-.407-1.044-1.222%200-1.104.591-2.103%201.771-2.993.227-.165.532-.352.918-.562.012-.524.046-1.128.104-1.812-.585.046-1.143.069-1.675.069l-.493-.011-.071-.822m2.127%203.384c-.268.161-.545.392-.831.694-.612.619-.94%201.226-.986%201.817l-.017.121.017.138c0%20.252.112.378.339.378.492%200%201.02-.258%201.582-.773-.057-.613-.092-1.404-.104-2.375m2.455-.884c-.57.08-1.111.226-1.623.436%200%20.883.018%201.581.052%202.093.634-.707%201.158-1.55%201.571-2.529%22%2F%3E%3Cpath%20fill%3D%22%231A1A1A%22%20d%3D%22M8.517%2011.735l-.734-2.409h-3.69l-.734%202.409h-2.313l3.573-10.165h2.625l3.587%2010.165h-2.314m-1.246-4.21c-.679-2.183-1.062-3.418-1.149-3.704-.083-.286-.143-.512-.18-.678-.153.59-.589%202.051-1.309%204.382h2.638%22%2F%3E%3Cpath%20fill%3D%22%23BCBCBC%22%20d%3D%22M12.817%2013.5v2.5h10.757l.98-2.5h-11.737z%22%2F%3E%3Cpath%20fill%3D%22%233692D0%22%20d%3D%22M.011%2013.511h3.569l2.367-3.116%202.367%203.116h3.57v2.484h-11.873v-2.484z%22%2F%3E%3C%2Fsvg%3E);background-image:-webkit-linear-gradient(transparent,transparent),url(http://10.120.10.100:9002/extensions/UniversalLanguageSelector/resources/css/../../lib/jquery.uls/images/icon-language.svg?2015-04-24T18:11:40Z)!ie;background-image:linear-gradient(transparent,transparent),url(data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2227%22%20height%3D%2216%22%3E%3Cpath%20fill%3D%22%23D3E3F4%22%20d%3D%22M0%200h11.876v16h-11.876v-16z%22%2F%3E%3Cpath%20fill%3D%22%23E9E9E9%22%20d%3D%22M12.819%200v15.969h10.755c1.085-2.578%201.837-4.991%203.062-8.591l-3.062-7.378h-10.755z%22%2F%3E%3Cpath%20fill%3D%22%23434343%22%20d%3D%22M14.828%204.146c.32.023.639.035.951.035.471%200%20.922-.016%201.354-.046l.023-.258.034-.367.081-.711.033-.333.873.058c-.073.577-.133%201.091-.179%201.542%201.116-.119%202.233-.331%203.349-.637l.092.809c-1.078.271-2.251.472-3.521.602-.05.463-.082.968-.098%201.514.524-.187%201.14-.313%201.847-.378.064-.207.136-.461.213-.763l.865.201c-.027.123-.088.315-.184.579.814.104%201.461.34%201.938.711.681.542%201.021%201.252%201.021%202.128%200%20.963-.406%201.746-1.221%202.351-.635.47-1.505.784-2.609.94l-.505-.779c.968-.104%201.739-.337%202.317-.7.733-.458%201.101-1.066%201.101-1.823%200-.772-.341-1.363-1.021-1.772-.345-.21-.764-.344-1.256-.401-.604%201.422-1.4%202.598-2.387%203.527.035.352.102.715.201%201.09l-.849.314-.126-.773c-.654.462-1.27.693-1.847.693-.696%200-1.044-.407-1.044-1.222%200-1.104.591-2.103%201.771-2.993.227-.165.532-.352.918-.562.012-.524.046-1.128.104-1.812-.585.046-1.143.069-1.675.069l-.493-.011-.071-.822m2.127%203.384c-.268.161-.545.392-.831.694-.612.619-.94%201.226-.986%201.817l-.017.121.017.138c0%20.252.112.378.339.378.492%200%201.02-.258%201.582-.773-.057-.613-.092-1.404-.104-2.375m2.455-.884c-.57.08-1.111.226-1.623.436%200%20.883.018%201.581.052%202.093.634-.707%201.158-1.55%201.571-2.529%22%2F%3E%3Cpath%20fill%3D%22%231A1A1A%22%20d%3D%22M8.517%2011.735l-.734-2.409h-3.69l-.734%202.409h-2.313l3.573-10.165h2.625l3.587%2010.165h-2.314m-1.246-4.21c-.679-2.183-1.062-3.418-1.149-3.704-.083-.286-.143-.512-.18-.678-.153.59-.589%202.051-1.309%204.382h2.638%22%2F%3E%3Cpath%20fill%3D%22%23BCBCBC%22%20d%3D%22M12.817%2013.5v2.5h10.757l.98-2.5h-11.737z%22%2F%3E%3Cpath%20fill%3D%22%233692D0%22%20d%3D%22M.011%2013.511h3.569l2.367-3.116%202.367%203.116h3.57v2.484h-11.873v-2.484z%22%2F%3E%3C%2Fsvg%3E);background-image:linear-gradient(transparent,transparent),url(http://10.120.10.100:9002/extensions/UniversalLanguageSelector/resources/css/../../lib/jquery.uls/images/icon-language.svg?2015-04-24T18:11:40Z)!ie;padding-left:30px}#pt-uls a.uls-trigger{padding-left:30px; line-height:1}   x:-o-prefocus,body.rtl li#pt-uls{ direction:ltr}#uls-settings-block{border-top:1px solid #C9C9C9;background:#f8f8f8;background:-webkit-gradient(linear,left top,left bottom,from(#FBFBFB),to(#F0F0F0));background:-webkit-linear-gradient(top,#FBFBFB,#F0F0F0);background:-moz-linear-gradient(top,#FBFBFB,#F0F0F0);background:-o-linear-gradient(top,#FBFBFB,#F0F0F0);background:linear-gradient(#FBFBFB,#F0F0F0);padding-left:10px;line-height:1.2em;border-radius:0 0 5px 5px}#uls-settings-block div.display-settings-block,#uls-settings-block div.input-settings-block{display:inline-block;margin:8px 15px;color:#565656}#uls-settings-block div.display-settings-block:hover,#uls-settings-block div.input-settings-block:hover{color:#252525}
/* cache key: wikidb_201505:resourceloader:filter:minify-css:7:5d95b043d28af97341377c3a65192054 */
.mw-collapsible-toggle{float:right;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}  .mw-content-ltr .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr .mw-collapsible-toggle{float:right} .mw-content-rtl .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl .mw-collapsible-toggle{float:left}.mw-customtoggle,.mw-collapsible-toggle{cursor:pointer} caption .mw-collapsible-toggle,.mw-content-ltr caption .mw-collapsible-toggle,.mw-content-rtl caption .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr caption .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl caption .mw-collapsible-toggle{float:none} li .mw-collapsible-toggle,.mw-content-ltr li .mw-collapsible-toggle,.mw-content-rtl li .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr li .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}
/* cache key: wikidb_201505:resourceloader:filter:minify-css:7:e1ffd603cbaaa5f1a36e0d13fe843535 */
.suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left; overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}.suggestions-result-current{background-color:#4C59A6;color:white}.suggestions-special .special-label{color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white}.highlight{font-weight:bold}
/* cache key: wikidb_201505:resourceloader:filter:minify-css:7:f8d0c6895ce3ae14434c16b8fca59432 */
.postedit-container{margin:0 auto;position:fixed;top:0;height:0;left:50%;z-index:1000;font-size:13px}.postedit-container:hover{cursor:pointer}.postedit{position:relative;top:0.6em;left:-50%;padding:.6em 3.6em .6em 1.1em;line-height:1.5625em;color:#626465;background-color:#f4f4f4;border:1px solid #dcd9d9;text-shadow:0 0.0625em 0 rgba(255,255,255,0.5);border-radius:5px;box-shadow:0 2px 5px 0 #ccc;-webkit-transition:all 0.25s ease-in-out;-moz-transition:all 0.25s ease-in-out;-ms-transition:all 0.25s ease-in-out;-o-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out}.skin-monobook .postedit{top:6em !important}.postedit-faded{opacity:0}.postedit-icon{padding-left:41px;  line-height:25px;background-repeat:no-repeat;background-position:8px 50%}.postedit-icon-checkmark{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABblBMVEUAAAD///////9PfTf///80aRdTgjn///9Feij///////////9Rfzf///////////9PfjZRgDh1o1xOfTb///////+bwYqLtnj///////9PfTa82K////9WhT6YxIL///9QgDdTgzr////////j7uDl7eLq8efi693k7OH///////9UhjuBr2rp9uRUhjr///9YljVKgir///9WiTlYjT3////9/v57vFlbkT5PjC9dlD/5/fhuq09stUTs9uhxuElctCpfnT1huDFloEZloUZmpENmvDZpvDxpvTxqvjxrvT5rvT9rwTxsqktswD5uwkBvuUdxw0NztFBztU9ztVBzwkp0tlJ1xkd2t1R3uVR4w1F4xk54x014yE15uVZ5v1R5xVB6v1R7yFJ8wVh9xVl9yFR9yVd9ylN+xVh+yFd/x1l/yFeAylmEx1+Ny2uY0Hqe04Wj1Ymv3Ze33qLD47TJ5L3O6cPU7Mrq9eb2+/Q4j37OAAAAQHRSTlMAAQIEBAUFBQwPFB4fJCUoKiosQEhJS01RUlZZXmdydXaChYuSlJSWmJmoq6uur8LExcvM19fg5ejt8fX2+Pr7SljgewAAAKpJREFUGBkFwQNCAwAAAMDLtl3LtrG4rWXbtvX77gAgZ6grFwC0bhwNVgKgdPZx8b0dgLi+s7Wn0VoAqpfOI9+BNADZI7fLrz2pSEwGHZuH+78lSK8ZLkLezF3ooyUG3VPXq2USei9WngeyoG195yBYWDF3E/2pAhl1e9Gr8bGT+bfOFCC2fnvh4X7rcqIAQNNu+HT6sxkAjceTL/2ZAIhv+PorBwBJxfkA//dFHSCBy/UTAAAAAElFTkSuQmCC);background-image:url(/resources/src/mediawiki.action/images/green-checkmark.png?2015-04-28T09:50:00Z)!ie;background-position:left}.postedit-close{position:absolute;padding:0 .8em;right:0;top:0;font-size:1.25em;font-weight:bold;line-height:2.3em;color:black;text-shadow:0 0.0625em 0 white;text-decoration:none;opacity:0.2;filter:alpha(opacity=20)}.postedit-close:hover{color:black;text-decoration:none;opacity:0.4;filter:alpha(opacity=40)}
/* cache key: wikidb_201505:resourceloader:filter:minify-css:7:128974218162077357b6c8e4a1dd68f0 */</style><style>
.suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{color:black;text-decoration:none}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:white}.suggestions a.mw-searchSuggest-link .special-query{ overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}
/* cache key: wikidb_201505:resourceloader:filter:minify-css:7:ae3fa4570b5ac0c6cf7b3776c8ae4d6f */</style><meta name="ResourceLoaderDynamicStyles" content="">
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wikidb_201505:resourceloader:filter:minify-css:7:a651b5ae7d75e5e1f6cbaf858e8cb656 */</style>
<script src="./Repo basis - CKT成都维基_files/load.php"></script><script src="./Repo basis - CKT成都维基_files/load(1).php"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Repo_basis","wgTitle":"Repo basis","wgCurRevisionId":150771,"wgRevisionId":150771,"wgArticleId":16784,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":"Haolong.zhang","wgUserGroups":["EditGrp","*","user","autoconfirmed"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"zh-cn","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"zh","wgMonthNames":["","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],"wgMonthNamesShort":["","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],"wgRelevantPageName":"Repo_basis","wgRelevantArticleId":16784,"wgUserId":426,"wgUserEditCount":161,"wgUserRegistration":1403243798000,"wgUserNewMsgRevisionId":null,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgULSAcceptLanguageList":["zh-cn","zh"],"wgULSCurrentAutonym":"中文（中国大陆）‎","wgVisualEditor":{"pageLanguageCode":"zh-CN","pageLanguageDir":"ltr"}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"rememberpassword":"1","timecorrection":"Offset|0","watchlisttoken":"e6d2d70fd3fee5a373912c45a169d30d69f324af"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"1629088d5ed1d636ff023ec06f50ace155a4d8a5+\\","patrolToken":"ea6ab844ba73d573af6ab3c335a55a7955a4d8a5+\\","watchToken":"e8efe9b5b25e16e41f7aa628d6b541bc55a4d8a5+\\"});});
/* cache key: wikidb_201505:resourceloader:filter:minify-js:7:5f1bc3774ac3f278a17434d3eba70451 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","ext.uls.init","ext.uls.interface","ext.visualEditor.viewPageTarget.init","skins.vector.js"]);
}</script><script src="./Repo basis - CKT成都维基_files/load(2).php"></script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/Vector/csshover.min.htc")}</style><![endif]-->
<style>@font-face { font-family: 'Autonym';
	src: url('/extensions/UniversalLanguageSelector/data/fontrepo/fonts/Autonym/Autonym.eot?version=20131205');
	src: local('Autonym'),		url('/extensions/UniversalLanguageSelector/data/fontrepo/fonts/Autonym/Autonym.woff?version=20131205') format('woff'),		url('/extensions/UniversalLanguageSelector/data/fontrepo/fonts/Autonym/Autonym.ttf?version=20131205') format('truetype');
	font-style: normal;}
</style></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Repo_basis skin-vector action-view webfonts-changed">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<div class="mw-indicators">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="zh-CN">Repo basis</h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">来自CKT成都维基</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					跳转至：					<a href="http://10.120.10.100:9002/Repo_basis#mw-head">导航</a>、					<a href="http://10.120.10.100:9002/Repo_basis#p-search">搜索</a>
				</div>
				<div id="mw-content-text" lang="zh-CN" dir="ltr" class="mw-content-ltr"><p><a href="http://10.120.10.100:9002/SmartPhone_WiKi_2014-Q2" title="SmartPhone WiKi 2014-Q2">返回上级</a>
</p><p><br>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>目录</h2><span class="toctoggle">&nbsp;[<a href="http://10.120.10.100:9002/Repo_basis#" id="togglelink">隐藏</a>]&nbsp;</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="http://10.120.10.100:9002/Repo_basis#repo_basis"><span class="tocnumber">1</span> <span class="toctext">repo basis</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="http://10.120.10.100:9002/Repo_basis#.E6.9C.AF.E8.AF.AD"><span class="tocnumber">1.1</span> <span class="toctext">术语</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="http://10.120.10.100:9002/Repo_basis#.E4.B8.BA.E5.95.A5.2F.E5.93.AA.E9.87.8C.E9.9C.80.E8.A6.81.E7.94.A8_repo"><span class="tocnumber">1.2</span> <span class="toctext">为啥/哪里需要用 repo</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="http://10.120.10.100:9002/Repo_basis#repo_.E6.98.AF.E5.95.A5.3F"><span class="tocnumber">1.3</span> <span class="toctext">repo 是啥?</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="http://10.120.10.100:9002/Repo_basis#.E5.A6.82.E4.BD.95.E5.8F.96.E5.BE.97_repo"><span class="tocnumber">1.3.1</span> <span class="toctext">如何取得 repo</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="http://10.120.10.100:9002/Repo_basis#repo_.E5.81.9A.E4.BA.86.E5.95.A5.3F"><span class="tocnumber">1.4</span> <span class="toctext">repo 做了啥?</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="http://10.120.10.100:9002/Repo_basis#repo_init"><span class="tocnumber">1.4.1</span> <span class="toctext">repo init</span></a>
<ul>
<li class="toclevel-4 tocsection-8"><a href="http://10.120.10.100:9002/Repo_basis#--repo-url"><span class="tocnumber">1.4.1.1</span> <span class="toctext">--repo-url</span></a></li>
<li class="toclevel-4 tocsection-9"><a href="http://10.120.10.100:9002/Repo_basis#-u_.2F_--manifest-url"><span class="tocnumber">1.4.1.2</span> <span class="toctext">-u / --manifest-url</span></a></li>
<li class="toclevel-4 tocsection-10"><a href="http://10.120.10.100:9002/Repo_basis#manifest_.E9.87.8C.E9.9D.A2.E6.9C.89.E5.95.A5"><span class="tocnumber">1.4.1.3</span> <span class="toctext">manifest 里面有啥</span></a>
<ul>
<li class="toclevel-5 tocsection-11"><a href="http://10.120.10.100:9002/Repo_basis#DTD_.E7.AE.80.E7.9F.AD.E8.AF.B4.E6.98.8E"><span class="tocnumber">1.4.1.3.1</span> <span class="toctext">DTD 简短说明</span></a></li>
<li class="toclevel-5 tocsection-12"><a href="http://10.120.10.100:9002/Repo_basis#.3Cremote.2F.3E"><span class="tocnumber">1.4.1.3.2</span> <span class="toctext">&lt;remote/&gt;</span></a></li>
<li class="toclevel-5 tocsection-13"><a href="http://10.120.10.100:9002/Repo_basis#.3Cproject.2F.3E"><span class="tocnumber">1.4.1.3.3</span> <span class="toctext">&lt;project/&gt;</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-3 tocsection-14"><a href="http://10.120.10.100:9002/Repo_basis#repo_sync"><span class="tocnumber">1.4.2</span> <span class="toctext">repo sync</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="http://10.120.10.100:9002/Repo_basis#repo_upload"><span class="tocnumber">1.4.3</span> <span class="toctext">repo upload</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="http://10.120.10.100:9002/Repo_basis#.E6.9B.B4.E5.A4.9A.E5.85.B3.E4.BA.8E_repo_.E7.9A.84.E5.86.85.E5.AE.B9"><span class="tocnumber">1.5</span> <span class="toctext">更多关于 repo 的内容</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="repo_basis">repo basis</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=1" title="编辑小节：repo basis" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=1" title="编辑小节：repo basis">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id=".E6.9C.AF.E8.AF.AD">术语</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=2" title="编辑小节：术语" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=2" title="编辑小节：术语">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>repo, </dt>
<dd>就是本篇所说的这个工具.</dd></dl>
<dl><dt>repository/仓库</dt>
<dd>指代码仓库, 版本库, 反正就是版本控制工具(这里是 git)的版本历史存放的位置.<br></dd></dl>
<p>更详细的可以参考 <a rel="nofollow" class="external free" href="http://en.wikipedia.org/wiki/Repository_(version_control)">http://en.wikipedia.org/wiki/Repository_(version_control)</a>
</p>
<h3><span class="mw-headline" id=".E4.B8.BA.E5.95.A5.2F.E5.93.AA.E9.87.8C.E9.9C.80.E8.A6.81.E7.94.A8_repo">为啥/哪里需要用 repo</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=3" title="编辑小节：为啥/哪里需要用 repo" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=3" title="编辑小节：为啥/哪里需要用 repo">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li> google 使用它来管理 Android 开源项目 AOSP 源代码
<ul><li> 或者 CyanogenMod, OmniRom 等第三方 ROM 社区也是使用 repo 管理代码.</li>
<li> 所以你要做 Android 平台(非应用开发)相关的开发都需要使用 repo 来下载代码</li></ul></li>
<li> 或者你需要管理多个相关的 git 仓库, git 有有限的支持多仓库的管理</li>
<li> 高通项目即是基于 AOSP 的项目, 所以同样需要了解 repo</li></ul>
<p>但为什么要用 repo&nbsp;? 
</p>
<pre> A: 为了更好的管理多个相关的 git 仓库
</pre>
<p>为什么要使用多个 git 仓库呢?
</p>
<pre> A: 1 为了更好的模块化代码
</pre>
<ul><li> 比如同样的平台版本的 Android 需要支持两个不同的硬件设备. 这只需要针对对应的 device vendor 等目录创建相应的分支即可. 并且这个仓库是独立的, 所以另外的其他定制过的 Android 版本比如说 CM 的也可以使用这个仓库,然后 CM 就可以得到支持不同设备了</li>
<li> 或者假设平台上某些应用, 由不同地 android 版本/变体提供不同的系统服务, 它们也可以相应的添加新的分支支持多个版本及变体. 再一次, 这个仓库是独立的, 你甚至可以把到重用到非 Android 的平台上/或者单独运行.</li></ul>
<pre>    2 为了更好的开发速度
</pre>
<ul><li> 我们目前的使用方式(mtk 方案也有些限制), 一个大仓库 -- 整个设备的所有代码都在一个仓库里面. 然后 git status, git diff 等的都会非常慢. </li>
<li> 或者你只是想调查某个机型上的某个功能的修改,你需要 clone 下那个设备的整个 codebase. 这即使内网网整不是问题, 也会引硬盘空间紧张的情况.</li></ul>
<h3><span class="mw-headline" id="repo_.E6.98.AF.E5.95.A5.3F">repo 是啥?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=4" title="编辑小节：repo 是啥?" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=4" title="编辑小节：repo 是啥?">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li> 它是一个 python 脚本.</li>
<li> 它是基于 git 实现的一个包装后的工具.</li></ul>
<h4><span class="mw-headline" id=".E5.A6.82.E4.BD.95.E5.8F.96.E5.BE.97_repo">如何取得 repo</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=5" title="编辑小节：如何取得 repo" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=5" title="编辑小节：如何取得 repo">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>你需要先搞一份单文件版本的 repo 你可以
</p>
<ul><li> 点击直接从<a href="http://10.120.10.100:9002/images/3/36/Repo.zip" class="internal" title="Repo.zip">本维基下载Repo</a></li>
<li> 或者从同事电脑上复制一份到虚拟机中</li>
<li> 或者从 github 的 repo 镜像下载</li></ul>
<pre> curl <a rel="nofollow" class="external free" href="https://raw.githubusercontent.com/android/tools_repo/master/repo">https://raw.githubusercontent.com/android/tools_repo/master/repo</a> &gt; ~/bin/repo 
</pre>
<ul><li> 或者从 google 官方下载(官方的方法，有墙不能下载)</li>
<li> 或者其他方式搞一份到电脑上</li></ul>
<p>然后把你的 repo 文件拷贝到 ~/bin/ 
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1">  $ mkdir ~<span class="sy0">/</span>bin 
<span class="co2"># 复制你前面搞的 repo 文件到 ~/bin/</span>
  $ PATH<span class="sy0">=</span>~<span class="sy0">/</span>bin<span class="sy0">:</span>$PATH <span class="co2"># 这操作只对当前窗口（shell)生效</span>
  $ echo <span class="st0">'export PATH=~/bin:$PATH'</span> <span class="sy0">&gt;&gt;</span> ~<span class="sy0">/</span>.<span class="me1">bashrc</span> <span class="co2">#把这添加到你 shell 初始化脚本 .bashrc 中</span>
  $ chmod a<span class="sy0">+</span>x ~<span class="sy0">/</span>bin<span class="sy0">/</span>repo</pre></div></div>
<p><b>注意</b> 上面的，下载和配置 repo 的步骤只用做一下，
以后其他使用 repo 的项目都不用再重新配置了。
</p>
<h3><span class="mw-headline" id="repo_.E5.81.9A.E4.BA.86.E5.95.A5.3F">repo 做了啥?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=6" title="编辑小节：repo 做了啥?" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=6" title="编辑小节：repo 做了啥?">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="repo_init">repo init</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=7" title="编辑小节：repo init" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=7" title="编辑小节：repo init">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>repo init 做了下面的的几件事
</p>
<ul><li> 下载他自己(完整的 repo 工具)到 .repo/repo，从 --repo-url 指定的仓库上下载。</li>
<li> 下载 manifest 文件， 从 --manifest-url URL 指定的仓库上下载。</li></ul>
<p>完成后会生成一个 .repo 的目录, 其中有类似下面的这些文件
</p>
<pre> local_manifests  manifests  manifests.git  manifest.xml  
 project.list  projects  repo
</pre>
<p>.repo/repo 本身也是一个 git 的仓库
</p>
<ul><li> 所以你也可以在其上使用 git pull, git branch 之类的</li>
<li> 或者进行修改提交</li></ul>
<h5><span class="mw-headline" id="--repo-url">--repo-url</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=8" title="编辑小节：--repo-url" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=8" title="编辑小节：--repo-url">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>官方的 repo 工具也是托管在 google 自家的服务器上, 由于 google 被墙, repo 官方下载渠道可能不是很通畅； 并且即使通畅, 可能也存在网络速度问题. 所以 repo 工具支持通过 --repo-url 选项从镜像地址下载 repo 仓库, 下面有几个常用的镜像地址
</p>
<ul><li> <a rel="nofollow" class="external free" href="https://github.com/android/tools_repo">https://github.com/android/tools_repo</a> (托管在 github 的 repo 镜像)</li>
<li> <a rel="nofollow" class="external free" href="git://codeaurora.org/tools/repo.git">git://codeaurora.org/tools/repo.git</a> (托管 Linux 基金会的协作平台codeaurora 上的镜像) </li>
<li> <a rel="nofollow" class="external free" href="git://10.120.10.101/msm8916/tools/repo.git">git://10.120.10.101/msm8916/tools/repo.git</a> (目前只有高通项目组成员能访问)</li></ul>
<h5><span class="mw-headline" id="-u_.2F_--manifest-url">-u / --manifest-url</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=9" title="编辑小节：-u / --manifest-url" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=9" title="编辑小节：-u / --manifest-url">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>指定 manifest 源地址, manifest 源本身可能也是一个独立于其他 repo 管理的仓库们的一个 git 仓库.
仓库内需的内容需要有一个叫 default.xml 的文件, 这个 xml 文件就是最后客户端面接收并且会用到的 manifest 文件
</p><p><br>
</p>
<h5><span class="mw-headline" id="manifest_.E9.87.8C.E9.9D.A2.E6.9C.89.E5.95.A5">manifest 里面有啥</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=10" title="编辑小节：manifest 里面有啥" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=10" title="编辑小节：manifest 里面有啥">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>.repo/manifest.xml
</p>
<ul><li> manifest.xml 文件本身是个 xml 文件, 这虽然听起来有点像废话(稍后几秒说).</li>
<li> manifest.xml 的主要功能是列出项目需要的仓库列表.</li></ul>
<p>xml 意味着: 
</p>
<ul><li> 它由元素(element, 定义类同 html 中的标签)及其属性(attribute) 构成 
<ul><li> 例如 &lt;element attr1="value1" attr2="value2"/&gt;</li></ul></li>
<li> 属性和值必须严格地按 attr="value" 这样格式写
<ul><li> 有名字并且有对应的值,并且值部分必须用绰号引括起来.</li></ul></li>
<li> 它需要元素明确地结束:
<ul><li> 没有子元素的元素(空元素, EMPTY element) 必须 "/&gt;" 结尾</li>
<li> 有了元素的元素需要严格的同名并且, 层次关系对应.</li></ul></li>
<li> 只能有单一根元素</li></ul>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;manifest&gt; &lt;!-- root element 
(sub element goes here...) --&gt;
&lt;/manifest&gt;
</pre>
<ul><li> 更多内容请参看 .repo/repo/docs/manifest-format.txt 文件
<ul><li> 其中有元素/属性作用的定义以及 DTD 文档定义文件的格式</li></ul></li></ul>
<h6><span class="mw-headline" id="DTD_.E7.AE.80.E7.9F.AD.E8.AF.B4.E6.98.8E">DTD 简短说明</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=11" title="编辑小节：DTD 简短说明" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=11" title="编辑小节：DTD 简短说明">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h6>
<pre>&lt;!DOCTYPE manifest [
    &lt;!ELEMENT manifest (notice?,
                        remote*,
                        default?,
                        manifest-server?,
                        remove-project*,
                        project*,
                        Repo-hooks?)&gt;
到这定义表示  manifest 元素(根元素), 可以有上列的这些子元素.
? 和 * 表示子元素可以出现的次数
    &lt;!ELEMENT remote (EMPTY)&gt;
这句表示 &lt;remote/&gt; 是一个空元素(没/不能有子元素)
    &lt;!ATTLIST remote name         ID    #REQUIRED&gt;
    &lt;!ATTLIST remote alias        CDATA #IMPLIED&gt;
    &lt;!ATTLIST remote fetch        CDATA #REQUIRED&gt;
    &lt;!ATTLIST remote review       CDATA #IMPLIED&gt;
这几行表示他可以有上列的几这些属性值, #REQUIRED 为必须, #IMPLIED 为可选
</pre>
<p>下面列举一些常用的元素及属性
</p>
<h6><span class="mw-headline" id=".3Cremote.2F.3E">&lt;remote/&gt;</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=12" title="编辑小节：&lt;remote/&gt;" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=12" title="编辑小节：&lt;remote/&gt;">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h6>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="sy0">&lt;</span>manifest<span class="sy0">&gt;</span>
&nbsp;
  <span class="sy0">&lt;</span>remote  name<span class="sy0">=</span><span class="st0">"aosp"</span>
           fetch<span class="sy0">=</span><span class="st0">"git://10.120.10.101/cm/"</span>
           mirror<span class="sy0">=</span><span class="st0">"http://10.120.10.101"</span> <span class="sy0">/&gt;</span>
<span class="sy0">&lt;!--</span> 
name 
指定代码源始出处的名字<span class="sy0">,</span> 标识不同的原始出处
fetch
属性指定一个远程的 URI 的前缀<span class="sy0">,</span> 后续的指定使用这一 remote 的 
project 就会使用使用这一前缀<span class="sy0">,</span> 拼接上 project 的 name 属性
部分<span class="sy0">,</span> 构成完整的 URI<span class="sy0">,</span> 然后从远程代码托管服务下载代码
mirror 
指定 gerrit review 的地址前缀， 在使用 repo upload 时
会自动地把本地的改动 push 到 gerrit 上生成 review 项。
<span class="sy0">--&gt;</span>
&nbsp;
  <span class="sy0">&lt;</span>remote  name<span class="sy0">=</span><span class="st0">"github"</span>
           fetch<span class="sy0">=</span><span class="st0">"git://10.120.10.101/cm/"</span> <span class="sy0">/&gt;</span>
<span class="sy0">&lt;!--</span>
另外一个叫 github 的源 
<span class="sy0">--&gt;</span>
&nbsp;
  <span class="sy0">&lt;</span><span class="kw1">default</span> revision<span class="sy0">=</span><span class="st0">"refs/heads/cm-10.2"</span>
           remote<span class="sy0">=</span><span class="st0">"github"</span> 
           sync<span class="sy0">-</span>c<span class="sy0">=</span><span class="st0">"true"</span>
           sync<span class="sy0">-</span>j<span class="sy0">=</span><span class="st0">"4"</span> <span class="sy0">/&gt;</span>
<span class="sy0">&lt;!--</span> 
指定一个默认的原始出处<span class="sy0">,</span> 在 project 没有指定 remote 时默认使用.
<span class="me1">revision</span> 指定需要同步的分支
sync<span class="sy0">-</span>c 只同步当前分支<span class="sy0">,</span> 而不下载整个仓库
sync<span class="sy0">-</span>j 指定同步的时候使用几个线程来下载代码<span class="sy0">,</span> 
  <span class="sy0">*</span> repo sync 时也可以通过 <span class="sy0">-</span>j 选项指定线程数
  <span class="sy0">*</span> 具体的指定多少个线程合适有两个经验值<span class="sy0">:</span> CPU 的核心数<span class="sy0">,</span> 或者 核心数<span class="sy0">+</span><span class="nu0">1</span><span class="sy0">,</span> 
    太高的值<span class="sy0">,</span> 会使程序频繁切换线程<span class="sy0">,</span> 达不到加速的目的. 
  <span class="sy0">*</span> 并且指定多线程下载后<span class="sy0">,</span> 输出的 <a href="http://www.opengroup.org/onlinepubs/%3Cspan%20class=" nu19"="">009695399<span class="sy0">/</span>functions<span class="sy0">/</span>log.html"&gt;<span class="kw3">log</span></a> 由于多线程高度的不确定性<span class="sy0">,</span>十会混乱
    如果需要看清晰的 <a href="http://www.opengroup.org/onlinepubs/%3Cspan%20class=" nu19"="">009695399<span class="sy0">/</span>functions<span class="sy0">/</span>log.html"&gt;<span class="kw3">log</span></a> 可以考虑指定为 <span class="nu0">1</span>
<span class="sy0">--&gt;</span></pre></div></div>
<h6><span class="mw-headline" id=".3Cproject.2F.3E">&lt;project/&gt;</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=13" title="编辑小节：&lt;project/&gt;" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=13" title="编辑小节：&lt;project/&gt;">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h6>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1">  <span class="sy0">&lt;</span>project path<span class="sy0">=</span><span class="st0">"android"</span> name<span class="sy0">=</span><span class="st0">"CyanogenMod/android"</span> <span class="sy0">/&gt;</span>
<span class="sy0">&lt;!--</span> 
name 出处上的仓库名称
path 本地目录名称
由于款指定 remote 所以是从默认的原始出处<span class="sy0">,</span> 下载 CyanogenMod<span class="sy0">/</span>android 仓库到 android 目录中 
<span class="sy0">--&gt;</span>
  <span class="sy0">&lt;</span>project path<span class="sy0">=</span><span class="st0">"abi/cpp"</span> name<span class="sy0">=</span><span class="st0">"CyanogenMod/android_abi_cpp"</span> groups<span class="sy0">=</span><span class="st0">"pdk"</span> <span class="sy0">/&gt;</span>
  <span class="sy0">&lt;</span>project path<span class="sy0">=</span><span class="st0">"bionic"</span> name<span class="sy0">=</span><span class="st0">"CyanogenMod/android_bionic"</span> 
groups<span class="sy0">=</span><span class="st0">"pdk"</span> <span class="sy0">/&gt;</span>
&nbsp;
  <span class="sy0">&lt;</span>project path<span class="sy0">=</span><span class="st0">"cts"</span> 
name<span class="sy0">=</span><span class="st0">"platform/cts"</span> 
remote<span class="sy0">=</span><span class="st0">"aosp"</span> 
revision<span class="sy0">=</span><span class="st0">"refs/tags/android-4.3.1_r1"</span> groups<span class="sy0">=</span><span class="st0">"cts"</span> <span class="sy0">/&gt;</span>
<span class="sy0">&lt;!--</span> 
指定到 aosp 原始出处下载 platform<span class="sy0">/</span>cts 仓库的 refs<span class="sy0">/</span>tags<span class="sy0">/</span>android<span class="sy0">-</span>4.3.1_r1 分支代码到 cts 目录中
<span class="sy0">--&gt;</span></pre></div></div>
<p>原始的 manifest 源下载来的 manifest 文件里面的项目可能会有很多,并且好些你可能根本用不到, 可以考虑将其删除或者注注释掉. 这样可以加快 repo sync 的速度, <b>不过你一定要清楚的知道那些是必要的代码</b>
</p>
<h4><span class="mw-headline" id="repo_sync">repo sync</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=14" title="编辑小节：repo sync" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=14" title="编辑小节：repo sync">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>repo sync [PROJECT_LIST]
已知 repo sync 命令会作以下动作
</p>
<ul><li> 更新 repo 自己, 更新到 init --repo-url 指定的源上的最新</li>
<li> 更新 [PROJECT_LIST] 指定的项目到指定分支的最新, 
<ul><li> 不指定项目时，更新所有子项目</li></ul></li>
<li> -j 参数可以用来指定并发线程数, 用于加快下载速度</li></ul>
<h4><span class="mw-headline" id="repo_upload">repo upload</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=15" title="编辑小节：repo upload" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=15" title="编辑小节：repo upload">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li> 一种方式可以一次提交跨多个仓库(子仓库)的改动到 指定的 gerrit, </li>
<li> <del>由于目前经验都是拉上游的代码来, 自己本地 inhouse 地使用编译, 还没有过直接向上游提交过跨多个仓库的代码的经验</del>经过验证， 只要在 manifest 文件中的 remote 中指定 mirror 地址（高通项目已经配置有)，就能在 git commit 完多个项目的提交后用 repo upload push 到 gerrit， 这个命令会自动把提交 push 到 gerrit 上生成新的 review 项, 还不用自己打什么 refs/for/xxxx 这样的分支引用名。</li></ul>
<h3><span class="mw-headline" id=".E6.9B.B4.E5.A4.9A.E5.85.B3.E4.BA.8E_repo_.E7.9A.84.E5.86.85.E5.AE.B9">更多关于 repo 的内容</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit&vesection=16" title="编辑小节：更多关于 repo 的内容" class="mw-editsection-visualeditor">编辑</a><span class="mw-editsection-divider"> | </span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit&section=16" title="编辑小节：更多关于 repo 的内容">编辑源代码</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li> 官方文档
<ul><li> <a rel="nofollow" class="external free" href="https://source.android.com/source/using-repo.html">https://source.android.com/source/using-repo.html</a></li></ul></li>
<li> 更多具体使用,请参考饶蕾之前给高通项目 BSP 组内分享的幻灯片 <a href="http://10.120.10.100:9002/images/f/fe/Repo%2BGerrit%2Bguide.pptx" class="internal" title="Repo+Gerrit+guide.pptx">Repo+Gerrit+guide.pptx</a></li>
<li> <a href="http://10.120.10.100:9002/Repo_usage" title="Repo usage">Repo usage</a><a href="http://10.120.10.100:9002/%E7%94%A8%E6%88%B7:Tao.pei" title="用户:Tao.pei">by 裴涛</a></li>
<li> 在网上查</li></ul>
<p><br>
</p><p><a href="http://10.120.10.100:9002/SmartPhone_WiKi_2014-Q2" title="SmartPhone WiKi 2014-Q2">返回上级</a>
</p>
<!-- 
NewPP limit report
CPU time usage: 0.170 seconds
Real time usage: 0.172 seconds
Preprocessor visited node count: 108/1000000
Preprocessor generated node count: 168/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key wikidb_201505:pcache:idhash:16784-0!*!0!!zh-cn!*!* and timestamp 20150714093844 and revision id 150771
 -->
</div>									<div class="printfooter">
						取自“<a dir="ltr" href="http://10.120.10.100:9002/index.php?title=Repo_basis&oldid=150771">http://10.120.10.100:9002/index.php?title=Repo_basis&amp;oldid=150771</a>”					</div>
													<div id="catlinks" class="catlinks catlinks-allhidden"></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>导航菜单</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">个人工具</h3>
						<ul>
							<li id="pt-uls" class="active"><a href="http://10.120.10.100:9002/Repo_basis#" class="uls-trigger autonym" tabindex="0" role="button" aria-haspopup="true" original-title="">中文（中国大陆）‎</a></li><li id="pt-userpage"><a href="http://10.120.10.100:9002/%E7%94%A8%E6%88%B7:Haolong.zhang" class="new" dir="auto" title="你的用户页面[alt-shift-.]" accesskey=".">Haolong.zhang</a></li><li id="pt-mytalk"><a href="http://10.120.10.100:9002/%E7%94%A8%E6%88%B7%E8%AE%A8%E8%AE%BA:Haolong.zhang" class="new" title="你的讨论页面[alt-shift-n]" accesskey="n">讨论</a></li><li id="pt-preferences"><a href="http://10.120.10.100:9002/%E7%89%B9%E6%AE%8A:%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE" title="你的设置">设置</a></li><li id="pt-watchlist"><a href="http://10.120.10.100:9002/%E7%89%B9%E6%AE%8A:%E7%9B%91%E8%A7%86%E5%88%97%E8%A1%A8" title="你正在监视更改的页面的列表[alt-shift-l]" accesskey="l">监视列表</a></li><li id="pt-mycontris"><a href="http://10.120.10.100:9002/%E7%89%B9%E6%AE%8A:%E7%94%A8%E6%88%B7%E8%B4%A1%E7%8C%AE/Haolong.zhang" title="你的贡献的列表[alt-shift-y]" accesskey="y">贡献</a></li><li id="pt-logout"><a href="http://10.120.10.100:9002/index.php?title=%E7%89%B9%E6%AE%8A:%E7%94%A8%E6%88%B7%E9%80%80%E5%87%BA&returnto=Repo+basis" title="退出登录">退出</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">命名空间</h3>
						<ul>
															<li id="ca-nstab-main" class="selected"><span><a href="./Repo basis - CKT成都维基_files/Repo basis - CKT成都维基.html" title="查看内容页面[alt-shift-c]" accesskey="c">页面</a></span></li>
															<li id="ca-talk" class="new"><span><a href="http://10.120.10.100:9002/index.php?title=%E8%AE%A8%E8%AE%BA:Repo_basis&action=edit&redlink=1" title="关于内容页面的讨论[alt-shift-t]" accesskey="t">讨论</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label" tabindex="0"><span>变种</span><a href="http://10.120.10.100:9002/Repo_basis#" tabindex="-1"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">视图</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="./Repo basis - CKT成都维基_files/Repo basis - CKT成都维基.html">阅读</a></span></li>
															<li id="ca-ve-edit"><span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&veaction=edit" title="使用可视化编辑器编辑本页[alt-shift-v]" accesskey="v">编辑</a></span></li>
															<li id="ca-edit" class="collapsible"><span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=edit" title="你可以编辑本页面。请在保存前使用预览按钮[alt-shift-e]" accesskey="e">编辑源代码</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=history" title="本页面过去的版本[alt-shift-h]" accesskey="h">查看历史</a></span></li>
															<li id="ca-watch" class="icon"><span><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=watch&token=d7cae3b6258f204b9ba0a277ecc8a56f55a4d8a5%2B%5C" title="将本页面添加至您的监视列表[alt-shift-w]" accesskey="w">监视</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label" tabindex="0"><span>更多</span><a href="http://10.120.10.100:9002/Repo_basis#" tabindex="-1"></a></h3>

						<div class="menu">
							<ul>
																	<li id="ca-move">
										<a href="http://10.120.10.100:9002/%E7%89%B9%E6%AE%8A:%E7%A7%BB%E5%8A%A8%E9%A1%B5%E9%9D%A2/Repo_basis" title="移动本页[alt-shift-m]" accesskey="m">移动</a>
									</li>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">搜索</label>
						</h3>

						<form action="http://10.120.10.100:9002/index.php" id="searchform">
														<div id="simpleSearch">
															<input type="search" name="search" placeholder="搜索" title="搜索CKT成都维基[alt-shift-f]" accesskey="f" id="searchInput" tabindex="1" class="webfonts-changed" autocomplete="off"><input type="hidden" value="特殊:搜索" name="title" class="webfonts-changed"><input type="submit" name="go" value="前往" title="若相同标题存在，则直接前往该页面" id="searchButton" class="searchButton webfonts-changed">								</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="http://10.120.10.100:9002/%E9%A6%96%E9%A1%B5" title="访问首页"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">导航</h3>

			<div class="body">
									<ul>
													<li id="n-mainpage-description"><a href="http://10.120.10.100:9002/%E9%A6%96%E9%A1%B5" title="访问首页[alt-shift-z]" accesskey="z">首页</a></li>
													<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="查找帮助的地方">帮助</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Team_Entry" aria-labelledby="p-Team_Entry-label">
			<h3 id="p-Team_Entry-label">Team Entry</h3>

			<div class="body">
									<ul>
													<li id="n-FeaturePhone"><a href="http://10.120.10.100:9002/FP_Technical_Material">FeaturePhone</a></li>
													<li id="n-SmartPhone"><a href="http://10.120.10.100:9002/SP_Technical_Material">SmartPhone</a></li>
													<li id="n-HW"><a href="http://10.120.10.100:9002/HW_Technical_Material">HW</a></li>
													<li id="n-Testing"><a href="http://10.120.10.100:9002/Test_Technical_Material">Testing</a></li>
													<li id="n-PM"><a href="http://10.120.10.100:9002/PM_Technical_Material">PM</a></li>
													<li id="n-OfficialWebsite"><a href="http://10.120.10.100:9002/Official_website">OfficialWebsite</a></li>
													<li id="n-QA"><a href="http://10.120.10.100:9002/Test_QA_Area">QA</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">工具</h3>

			<div class="body">
									<ul>
													<li id="t-whatlinkshere"><a href="http://10.120.10.100:9002/%E7%89%B9%E6%AE%8A:%E9%93%BE%E5%85%A5%E9%A1%B5%E9%9D%A2/Repo_basis" title="所有链接至本页面的wiki页面的列表[alt-shift-j]" accesskey="j">链入页面</a></li>
													<li id="t-recentchangeslinked"><a href="http://10.120.10.100:9002/%E7%89%B9%E6%AE%8A:%E6%9C%80%E8%BF%91%E9%93%BE%E5%87%BA%E6%9B%B4%E6%94%B9/Repo_basis" title="链自本页的页面的最近更改[alt-shift-k]" accesskey="k">相关更改</a></li>
													<li id="t-upload"><a href="http://10.120.10.100:9002/%E7%89%B9%E6%AE%8A:%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6" title="上传文件[alt-shift-u]" accesskey="u">上传文件</a></li>
													<li id="t-specialpages"><a href="http://10.120.10.100:9002/%E7%89%B9%E6%AE%8A:%E7%89%B9%E6%AE%8A%E9%A1%B5%E9%9D%A2" title="所有特殊页面的列表[alt-shift-q]" accesskey="q">特殊页面</a></li>
													<li id="t-print"><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&printable=yes" rel="alternate" title="本页面的可打印版本[alt-shift-p]" accesskey="p">打印版本</a></li>
													<li id="t-permalink"><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&oldid=150771" title="本页面该版本的固定链接">固定链接</a></li>
													<li id="t-info"><a href="http://10.120.10.100:9002/index.php?title=Repo_basis&action=info" title="关于此页面的更多信息">页面信息</a></li>
											</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> 本页面最后修改于2015年3月31日 (星期二) 02:09。</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://10.120.10.100:9002/Wiki:%E9%9A%90%E7%A7%81%E6%94%BF%E7%AD%96" title="Wiki:隐私政策">隐私政策</a></li>
											<li id="footer-places-about"><a href="http://10.120.10.100:9002/Wiki:%E5%85%B3%E4%BA%8E" title="Wiki:关于">关于CKT成都维基</a></li>
											<li id="footer-places-disclaimer"><a href="http://10.120.10.100:9002/Wiki:%E5%85%8D%E8%B4%A3%E5%A3%B0%E6%98%8E" title="Wiki:免责声明">免责声明</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-poweredbyico">
															<a href="http://www.mediawiki.org/"><img src="./Repo basis - CKT成都维基_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"></a>
													</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"ready","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.page.watch.ajax","ext.uls.pt","ext.visualEditor.targetLoader"],null,true);
}</script>
<script src="./Repo basis - CKT成都维基_files/geoiplookup"></script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":669});
}</script>
	

<div class="suggestions" style="display: none; font-size: 13px;"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body></html>